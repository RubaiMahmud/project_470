{% extends "layout.html" %}
{% block content %}
<div class="upload-container">
  <div class="upload-form">
    <h2><i class="fas fa-upload"></i> Upload New Song</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ 'success' if category == 'success' else 'danger' }}">
            <i class="fas fa-{{ 'check-circle' if category == 'success' else 'exclamation-triangle' }}"></i>
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    
    <form method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">
          <i class="fas fa-music"></i>
          Song Title
        </label>
        <input type="text" id="title" name="title" placeholder="Enter song title" required>
      </div>

      <div class="form-group">
        <label for="artist">
          <i class="fas fa-user"></i>
          Artist
        </label>
        <input type="text" id="artist" name="artist" placeholder="Enter artist name" required>
      </div>

      <div class="form-group">
        <label for="genre">
          <i class="fas fa-tags"></i>
          Genre
        </label>
        <input type="text" id="genre" name="genre" placeholder="Enter genre" required>
      </div>

      <div class="form-group">
        <label for="file">
          <i class="fas fa-file-audio"></i>
          Audio File
        </label>
        <input type="file" id="file" name="file" accept=".mp3,.flac,.wav" required>
      </div>
      
      <button type="submit" class="btn-primary upload-btn">
        <i class="fas fa-cloud-upload-alt"></i>
        Upload Song
      </button>
    </form>
    
    <div class="upload-info">
      <p><i class="fas fa-info-circle"></i> Supported formats: MP3, FLAC, WAV</p>
    </div>
  </div>
</div>
{% endblock %}